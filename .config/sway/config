### Variables

set $mod Mod4
set $left h
set $down j
set $up k
set $right l

set $term termite
set $files $term -e "ranger"
set $mixer $term -e "pulsemixer"
set $monitor $term -e "htop"
set $email $term -e "aerc"
set $irc $term -e "irssi"
set $music $term -e "cmus"
set $browser firefox-developer-edition
set $rofi wofi -s ~/.config/wofi/materia-dark.css

### Output configuration

output DP-1 resolution 2560x1440 position 0,0
output DP-2 resolution 1920x1080 position 2560,0

output * bg ~/Pictures/wallpaper fill

### Input configuration

input type:pointer {
	accel_profile flat
}

focus_follows_mouse always

seat * hide_cursor 60000
seat * xcursor_theme Adwaita 24

input type:keyboard {
	xkb_numlock enabled
	xkb_layout us,us(intl)
	xkb_options grp:alt_shift_toggle
}

### Key bindings

# Basics:

bindsym $mod+Return exec $term

bindsym $mod+t exec $files
bindsym $mod+Shift+t exec nautilus
bindsym $mod+y exec $browser
bindsym $mod+u exec $email
bindsym $mod+i exec $irc
bindsym $mod+Shift+i exec discord
bindsym $mod+o exec $monitor
bindsym $mod+Shift+o exec gnome-system-monitor
bindsym $mod+p exec $mixer
bindsym $mod+Shift+p exec $music
bindsym $mod+Shift+g exec steam

bindsym $mod+Shift+q kill

bindsym $mod+d exec $rofi -S drun
bindsym $mod+x exec $rofi -S run
bindsym $mod+g exec steam_dmenu -d "$rofi -d -k /dev/null"

floating_modifier $mod normal

# Media keys
# bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -1%
# bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +1%
bindsym --locked XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle

bindsym --locked XF86AudioPlay exec playerctl play-pause
bindsym --locked XF86AudioNext exec playerctl next
bindsym --locked XF86AudioPrev exec playerctl previous

# Screenshots
bindsym Shift+Print exec grim -o $(swaymsg -t get_outputs | jq -r '.[] | select(.focused) | .name') $(xdg-user-dir PICTURES)/$(date +'%Y-%m-%d-%H%M%S_grim.png')
bindsym Print exec grim -g "$(slurp)" $(xdg-user-dir PICTURES)/$(date +'%Y-%m-%d-%H%M%S_grim.png') 

# Moving around:

bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Workspaces:

bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

bindsym $mod+period focus output right
bindsym $mod+comma focus output left

bindsym $mod+Shift+period move container to output right
bindsym $mod+Shift+comma move container to output left
bindsym $mod+Ctrl+period move workspace to output right
bindsym $mod+Ctrl+comma move workspace to output left

bindsym $mod+Tab workspace back_and_forth

workspace 10 output DP-2
workspace 9 output DP-2

# Window rules

for_window [class="steam"] fullscreen disable
for_window [title="Calculator"] floating enable
for_window [class="Spotify"] move workspace 9
for_window [class="discord"] move workspace 10
for_window [class="Riot"] move workspace 10

# Layout stuff:

bindsym $mod+b splith
bindsym $mod+v splitv

bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+f fullscreen

bindsym $mod+Shift+space floating toggle

bindsym $mod+space focus mode_toggle

bindsym $mod+a focus parent

# Scratchpad:

bindsym $mod+Shift+minus move scratchpad

bindsym $mod+minus scratchpad show

# Notifications:

bindsym $mod+n exec makoctl invoke
bindsym $mod+Shift+n exec makoctl dismiss

# Modes:

mode "resize" {
	bindsym $left resize shrink width 10px
	bindsym Shift+$left resize shrink width 200px
	bindsym $down resize grow height 10px
	bindsym Shift+$down resize grow height 200px
	bindsym $up resize shrink height 10px
	bindsym Shift+$up resize shrink height 200px
	bindsym $right resize grow width 10px
	bindsym Shift+$right resize grow width 200px

	bindsym Left resize shrink width 10px
	bindsym Down resize grow height 10px
	bindsym Up resize shrink height 10px
	bindsym Right resize grow width 10px

	bindsym Return mode "default"
	bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

mode passthrough {
	bindsym $mod+Pause mode default
}
bindsym $mod+Pause mode passthrough

mode system {
	bindsym l exec screenlock; mode default
	bindsym r exec systemctl reboot
	bindsym p exec systemctl poweroff
	bindsym e exit
	bindsym c reload

	bindsym Escape mode "default"
	bindsym BackSpace mode "default"
}
bindsym $mod+BackSpace mode system

### Bar

bar {
	swaybar_command waybar
}

### Styling

default_border pixel 2
default_floating_border normal 0
hide_edge_borders smart

focus_on_window_activation urgent

font pango:dejavu sans mono 10

# GTK Stuff

exec_always {
	gsettings set org.gnome.desktop.interface gtk-theme 'Adwaita-dark'
	gsettings set org.gnome.desktop.interface icon-theme 'Adwaita'
	gsettings set org.gnome.desktop.interface cursor-theme 'Adwaita'
	gsettings set org.gnome.desktop.interface font-name 'Roboto 10'
	gsettings set org.gnome.desktop.interface monospace-font-name 'DejaVu Sans Mono 10'
	gsettings set org.gnome.desktop.interface document-font-name 'Noto Sans 10'
	gsettings set org.gnome.settings-daemon.plugins.xsettings antialiasing rgba
	gsettings set org.gnome.settings-daemon.plugins.xsettings hinting slight
}

### Autostart

exec mako
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
exec /usr/lib/gsd-xsettings
exec steam -silent

include ~/.config/sway/config.d/*
